---
title: Configuration variants
layout: piecrust_doc
---

Sometimes you want to use several versions of your site configuration to do
different things. Maybe you want to bake things differently depending on the
environment, or use different sources for posts or plugins.

For this, **PieCrust** supports *configuration variants*. They're stored in the
configuration file itself, under the `variants` sections. Each variant has a
name, and then a sub-set of the configuration settings to be applied to the main
configuration.

For example, let's define a variant called `clientdemo` that enables "portable URLs"
when baking, and adds a big "[PREVIEW]" warning to the site title:

    variants:
        clientdemo:
            site:
                title: My website's title [PREVIEW]
            baker:
                portable_urls: true

Now if you run `chef --config=clientdemo bake`, it will bake your website after
applying those changes to your configuration.


### Automatically applied variants

**PieCrust** automatically applies some configuration variants if they exist:

* `baker`: a variant called `baker` will automatically be applied when baking
  the site.
* `server`: a variant called `server` will automatically be applied when
  previewing the site with `chef serve`.

